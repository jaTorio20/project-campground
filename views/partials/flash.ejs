<script>
    document.addEventListener("DOMContentLoaded", function() {
    // Detect dark mode
    const isDarkMode = document.body.classList.contains('dark-mode') || localStorage.getItem('darkMode') === 'enabled';

    <% if (success && success.length) { %>
      Toastify({
        text: "<%= success %>",
        duration: 2500,
        gravity: "top", 
        position: "right",
        close: true,
        stopOnFocus: true,
        // backgroundColor: isDarkMode ? "#2c2c2c" :  "#ffffff",
        style: {
          background: isDarkMode ? "#2c2c2c" : "#ffffff",
          borderRadius: "8px",
          color: isDarkMode ? "#8cff7e" : "#008000",
          fontWeight: "400"
          
        }
      }).showToast();
    <% } %>

  <% if (error && error.length) { %>

    Toastify({
      text: "<%= error %>",
      duration: 3000, 
      gravity: "top",
      position: "right",
      close: true,
      stopOnFocus: true,
      // backgroundColor: isDarkMode? "#2c2c2c" : "#ffffff",
      className: "modern-toast",       
      style: {
        background: isDarkMode? "#2c2c2c" : "#ffffff",
        borderRadius: "12px",          
        color: isDarkMode ? "#ff4d4f" : "#c4081b", 
        fontWeight: "400",
        fontSize: "14px",
        boxShadow: isDarkMode ?  "0 4px 12px rgba(255, 255, 255, 0.2)"  : "0 4px 12px rgba(0, 0, 0, 0.15)", // subtle shadow
        border: "none",             
        padding: "12px 20px",
        minWidth: "200px"
      }
    }).showToast();
  <% } %>
  });
</script>